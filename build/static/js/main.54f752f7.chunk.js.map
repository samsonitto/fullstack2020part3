{"version":3,"sources":["components/Header.js","components/Input.js","components/Filter.js","components/Button.js","components/Header2.js","components/AddNewContact.js","components/Contacts.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Header","props","text","Input","type","placeholder","onChange","handleOnChange","id","Filter","handleFilterOnChange","Button","onClick","handleClick","Header2","AddNewContact","handleAddOnChange","handleAddNumberOnChange","handleAddClick","Contacts","personsToShow","map","person","i","key","name","number","handleDeleteClick","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","notClassName","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setPersonsToShow","setMessage","notClass","setNotClass","useEffect","personService","initialContacts","catch","error","showMessage","resetForm","document","getElementById","value","msg","msgClass","setTimeout","e","filtered","filter","toLowerCase","includes","target","preventDefault","alert","some","window","confirm","per","find","p","changedContact","returnedContact","console","log","concat","res","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.54f752f7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <h1>{props.text}</h1>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nconst Input = (props) => {\r\n    return (\r\n        <input\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n            onChange={props.handleOnChange}\r\n            id={props.id}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\nimport Input from './Input'\r\n\r\nconst Filter = (props) => {\r\n    return (\r\n        <div>\r\n        Filter by Name: <Input placeholder={'Name..'} handleOnChange={props.handleFilterOnChange} />\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\nconst Button = (props) => {\r\n    return (\r\n        <button \r\n            onClick={props.handleClick}\r\n            type={props.type}\r\n        >\r\n            {props.text}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\n\r\nconst Header2 = (props) => {\r\n    return (\r\n        <h2>{props.text}</h2>\r\n    )\r\n}\r\n\r\nexport default Header2","import React from \"react\";\r\nimport Input from './Input';\r\nimport Button from './Button';\r\nimport Header2 from './Header2';\r\n\r\nconst AddNewContact = (props) => {\r\n    return (\r\n        <>\r\n            <Header2 text={'Add New Contact'} />\r\n            <form>\r\n                <div>\r\n                    Name: <Input placeholder={'Name..'} handleOnChange={props.handleAddOnChange} id={'nameInput0'} /><br />\r\n                    Number: <Input placeholder={'Number..'} handleOnChange={props.handleAddNumberOnChange} id={'numberInput0'} />\r\n                </div>\r\n                <div>\r\n                    <Button type={'submit'} handleClick={props.handleAddClick} text={'Add'} />\r\n                </div>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddNewContact","import React from 'react';\r\nimport Header2 from './Header2';\r\nimport Button from './Button';\r\n\r\nconst Contacts = (props) => {\r\n    return (\r\n        <>\r\n            <Header2 text={'Numbers'} />\r\n            {props.personsToShow.map((person, i) => \r\n                <div key={i}>\r\n                    {person.name} {person.number} <Button text='delete' handleClick={() => props.handleDeleteClick(person.id, person.name)} />\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Contacts","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response)\r\n}\r\n\r\nexport default { getAll, create, update, deleteContact }","import React from 'react'\r\n\r\nconst Notification = ({ message, notClassName }) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    return (\r\n        <div className={notClassName}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Header from './components/Header'\nimport Filter from './components/Filter'\nimport AddNewContact from './components/AddNewContact'\nimport Contacts from './components/Contacts'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ personsToShow, setPersonsToShow] = useState(persons)\n  const [ message, setMessage] = useState(null)\n  const [ notClass, setNotClass] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialContacts => {\n        setPersons(initialContacts)\n        setPersonsToShow(initialContacts)\n      })\n      .catch(error => {\n        showMessage(`Error caught: ${error}`, 'error')\n      })\n    \n  }, [])\n  \n\n  const handleAddClick = (e) => {\n    e.preventDefault()\n    if(newName === '') {\n      alert(\"Input Name\")\n    }\n    else if (newNumber === '') {\n      alert(\"Input Number\")\n    } else {\n      let newObject = {\n        name: newName,\n        number: newNumber\n      }\n      if(persons.some(person => person.name === newName)) {\n        let message = `${newName} is already in the phonebook. Do you want to replace the old number with a new one?`\n        if(window.confirm(message)) {\n          const per = persons.find(p => p.name === newName)\n          const changedContact = { ...per, number: newNumber}\n          \n          personService\n            .update(per.id, changedContact)\n            .then(returnedContact => {\n              setPersons(persons.map(person => person.id !== per.id ? person : returnedContact))\n              setPersonsToShow(persons.map(person => person.id !== per.id ? person : returnedContact))\n              resetForm()\n              showMessage(`Updated ${newName}`, 'success')\n            })\n            .catch(error => {\n              console.log(error);\n              console.log(per.id);\n              \n              setPersons(persons.filter(p => p.id !== per.id))\n              setPersonsToShow(persons.filter(p => p.id !== per.id))\n              showMessage(`${newName} has already been removed from the server`, 'error')\n              \n            })\n        }\n      } else {\n        console.log('step0');\n        \n        personService\n          .create(newObject)\n          .then(returnedContact => {\n            setPersons(persons.concat(returnedContact))\n            setPersonsToShow(persons.concat(returnedContact))\n            resetForm()\n            showMessage(`Added ${newName}`, 'success')\n          })\n          .catch(error => {\n            console.log(error.response.data)\n            showMessage(`${error.response.data.error}`, 'error')\n          })\n      }\n    }\n  }\n\n  const handleDeleteClick = (id, name) => {\n    let message = `Do you really want to delete ${name}?`\n    if(window.confirm(message)){\n      personService\n        .deleteContact(id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== id))\n          setPersonsToShow(persons.filter(p => p.id !== id))\n        })\n        .catch(error => {\n          showMessage(`${name} has already been removed from the server`, 'error')\n        })\n    }\n  }\n\n  const resetForm = () => {\n    setNewName('')\n    setNewNumber('')\n    document.getElementById('nameInput0').value = ''\n    document.getElementById('numberInput0').value = ''\n  }\n\n  const showMessage = (msg, msgClass) => {\n    setMessage(msg)\n    setNotClass(msgClass)\n    setTimeout(() => {\n      setMessage(null)\n      setNotClass(null)\n    }, 5000)\n  }\n\n  const handleFilterOnChange = (e) => {\n    const filtered = persons.filter(person => person.name.toLowerCase().includes(e.target.value.toLowerCase()))\n    setPersonsToShow(filtered)\n  }\n\n  const handleAddOnChange = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleAddNumberOnChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  return (\n    <div>\n      <Header text={'Phonebook'} />\n      <Notification message={message} notClassName={notClass} />\n      <Filter handleFilterOnChange={handleFilterOnChange} />\n      <AddNewContact \n        handleAddOnChange={handleAddOnChange} \n        handleAddNumberOnChange={handleAddNumberOnChange}\n        handleAddClick={handleAddClick}\n      />\n      <Contacts personsToShow={personsToShow} handleDeleteClick={handleDeleteClick} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}